<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org"
       xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
       layout:decorate="~{master.html}">

<!--@thymesVar id="model" type="com.softwire.training.tickets.model.pagemodel.TicketPageModel"-->

    <head>
        <title>The Ticketing System</title>
        <link rel="stylesheet" href="/stylesheets/awa.css"/>
    </head>

    <body>

        <div layout:fragment="content" class="tickets-table-container">
            <table class="tickets-table">
                <caption>Sam's a busy boy</caption>
                <thead>
                    <tr>
                        <th>Ticket #</th>
                        <th>Name</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="ticket:${model.tickets}">
                        <td th:text="${ticket.id}"></td>
                        <td th:text="${ticket.name}"></td>
                        <td th:text="${ticket.description}"></td>
                    </tr>
                </tbody>
            </table>
            <div class="admin-controls">
                <form th:action="@{/resolve-ticket}" method="POST">
                    <select class="form-control" th:field="${model.ticket.id}" name="id" id="id">
                        <option value="0">Select Ticket</option>
                        <option th:each="ticket : ${model.tickets}" th:value="${ticket.id}"
                                th:text="${ticket.id} + ' - ' + ${ticket.name}"></option>
                    </select>
                    <input type="password" name="password" placeholder="Admin password">
                    <input type="submit" value="Resolve ticket">
                </form>
            </div>
        </div>


    </body>

</html>